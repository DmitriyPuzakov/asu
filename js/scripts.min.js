"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){s=!0,a=t}finally{try{n||null==o.return||o.return()}finally{if(s)throw a}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var fontHtml,windowWidth;window.onload=function(){size(),resize(),transition(),handlePlaceholder(),window.addEventListener("resize",(function(){resize(),transition()}))};var fixFlag,handlePlaceholder=function(){var t=document.querySelectorAll(".JSinput"),e=function(t,e){""==e.value?t.classList.remove("_active"):t.classList.add("_active")};t.forEach((function(t){var i=t.querySelector(".JSinputField"),n=t.querySelector(".JSinputPlaceholder");i.onfocus=function(){t.classList.add("_active")},i.onblur=function(){e(t,i)},n.onclick=function(){setTimeout((function(){i.focus()}),10)},e(t,i)}))},Select=function(){function t(e){_classCallCheck(this,t),this.name=e,this.customeSelect=document.querySelector('.JSselect[data-name="'.concat(e,'"]')),this.select=this.customeSelect.querySelector(".JSselectInput"),this.template={item:function(t,e){return'<div class="JSselectItem select__dropItem" data-index="'.concat(t,'">').concat(e,"</div>")}},this.init=this.init.bind(this),this.setValue=this.setValue.bind(this),this.init()}return _createClass(t,[{key:"init",value:function(){var t=this,e=this.select.selectedIndex,i=this.select.value,n=this.select.querySelector('option[value="'.concat(i,'"]')).innerHTML,s="";this.select.querySelectorAll("option").forEach((function(e,i){s+=t.template.item(i,e.innerHTML)})),this.customeSelect.querySelector(".JSselectDrop").innerHTML=s,this.select.querySelector("option[selected]")?this.setValue(e,n):this.setValue(-1,""),this.customeSelect.querySelector(".JSselectView").onclick=function(){document.querySelectorAll(".JSselect").forEach((function(e){e!==t.customeSelect&&e.classList.remove("_active")})),t.customeSelect.classList.toggle("_active")},this.customeSelect.querySelectorAll(".JSselectItem").forEach((function(e){e.onclick=function(){t.setValue(e.getAttribute("data-index"),e.innerHTML),t.customeSelect.classList.remove("_active")}})),document.addEventListener("click",(function(e){e.target===t.customeSelect||e.target.closest(".JSselect")||e.target===t.customeSelect.querySelector(".JSselectView")||t.customeSelect.classList.remove("_active")}))}},{key:"setValue",value:function(t,e){this.select.selectedIndex=t,this.customeSelect.querySelector(".JSselectVal").innerHTML=e}}]),t}(),size=function(){var t=document.createElement("div");t.style.overflowY="scroll",t.style.width="50px",t.style.height="50px",t.style.visibility="hidden",document.body.appendChild(t),t.offsetWidth,t.clientWidth,document.body.removeChild(t),windowWidth=document.documentElement.clientWidth},resize=function(){},transition=function(){var t=document.querySelector("head"),e=document.createElement("style");e.className="STYLE",e.appendChild(document.createTextNode("*{transition: 0s!important;}")),t.appendChild(e),setTimeout((function(){document.querySelectorAll(".STYLE").forEach((function(t){t.parentNode.removeChild(t)}))}),300)},body=document.getElementsByTagName("body")[0],html=document.getElementsByTagName("html")[0];document.addEventListener("scroll",(function(t){fixFlag||(scroll=window.pageYOffset)}));var windowFixRemove=function(t){fixFlag=!1,body.style.position="static",body.style.top="unset",html.scrollTop=t},windowFix=function(t){fixFlag=!0,body.style.position="fixed",body.style.top="".concat(-t/fontHtml,"rem")},Slider=function(){function t(e){var i=this;_classCallCheck(this,t),this.slider=e.slider,this.lay=e.lay,this.itemsStart=Object.assign([],e.items),this.items=Object.assign([],e.items),this.buttons=e.buttons,this.length=this.items.length,this.type=this.slider.getAttribute("data-type"),this.current=e.current,this.pagenation=null,("mobile"==this.type&&windowWidth<500||"desktop"==this.type&&windowWidth>500||!this.type)&&this.sliderInit(),this.moveFunc=this.moveFunc.bind(this),this.sliderInit=this.sliderInit.bind(this),this.addItems=this.addItems.bind(this),this.resetSlider=this.resetSlider.bind(this),window.addEventListener("resize",(function(t){i.resetSlider()}))}return _createClass(t,[{key:"sliderInit",value:function(){var t=this;this.lay.style.position="relative",this.lay.style.userSelect="none",this.widthLay=this.lay.offsetWidth,this.widthItem=this.widthLay/this.length,this.move=0,this.flag=!0,this.containFlag=!1,this.itemsStart.forEach((function(e,i){e.setAttribute("data-id",i),e.removeAttribute("data-current"),t.current==i&&e.setAttribute("data-current",!0)})),this.pagenation&&!Array.isArray(this.pagenation)&&this.pagenation.querySelector(".JSsliderPagItem:nth-child(".concat(+this.current+1,")")).classList.add("_current"),this.left=this.lay.getBoundingClientRect().x,this.right=windowWidth-(this.lay.getBoundingClientRect().x+this.lay.offsetWidth),this.right<0&&(this.right=0),this.left<0&&(this.left=0),this.addItems("next",Math.ceil(this.right/this.widthItem)+Math.ceil(windowWidth/this.widthItem)),this.addItems("prev",Math.ceil(this.left/this.widthItem)+Math.ceil(windowWidth/this.widthItem)),this.startX=0,this.moveX=0,this.startY=0,this.moveY=0,this.flagX,this.flagY,this.dir,Object.entries(this.buttons).map((function(e){var i=_slicedToArray(e,2),n=i[0];i[1].onclick=function(){t.flag&&t.moveFunc(n)}})),this.slider.addEventListener("touchstart",(function(e){null!=t.slider&&(t.containFlag=!1,t.lay.style.transition="0s",t.startX=e.changedTouches[0].pageX,t.startY=e.changedTouches[0].pageY,t.flagX=!1,t.flagY=!1)})),this.slider.addEventListener("touchmove",(function(e){null!=t.slider&&t.flag&&!t.containFlag&&(t.moveX=e.changedTouches[0].pageX-t.startX+t.move,t.moveY=e.changedTouches[0].pageY-t.startY,e.changedTouches[0].pageX-t.startX<0?t.dir="prev":t.dir="next",Math.abs(t.moveY)>3&&!t.flagX&&(t.flagY=!0,t.flagX=!1),Math.abs(e.changedTouches[0].pageX-t.startX)>3&&!t.flagY&&(t.flagX=!0,t.flagY=!1,e.preventDefault()),t.flagX&&t.moveLay(t.moveX))}),{passive:!1}),this.slider.addEventListener("touchend",(function(){null!=t.slider&&(t.flagX&&("prev"==t.dir?t.moveX+t.widthItem/2<t.move&&t.flag?t.moveFunc("next"):(t.lay.style.transition=".5s ease-in-out",t.moveLay(t.move),setTimeout((function(){t.lay.style.transition="0s"}),510)):t.moveX-t.widthItem/2>t.move&&t.flag?t.moveFunc("prev"):(t.lay.style.transition=".5s ease-in-out",t.moveLay(t.move),setTimeout((function(){t.lay.style.transition="0s"}),510))),t.startX=0,t.moveX=0)}))}},{key:"addItems",value:function(t,e){var i,n;switch(t){case"next":i=0;for(var s=0;s<e;s++)i==this.length&&(i=0),this.items.forEach((function(t){+t.getAttribute("data-id")==i&&(n=t.cloneNode(!0))})),n.removeAttribute("data-current"),i++,this.lay.append(n),this.items.push(n);break;case"prev":var a=0;i=this.length-1;for(var r=e;r>0;r--)-1==i&&(i=this.length-1),a-=this.widthItem,this.items.forEach((function(t){+t.getAttribute("data-id")==i&&(n=t.cloneNode(!0))})),n.removeAttribute("data-current"),i--,this.lay.prepend(n),this.items.unshift(n),this.lay.style.left="".concat(a/fontHtml,"rem"),this.left=a}}},{key:"resetSlider",value:function(){var t=this;this.lay.innerHTML="",this.slider.removeAttribute("style"),this.lay.removeAttribute("style"),this.itemsStart.forEach((function(e,i){e.removeAttribute("data-id"),e.removeAttribute("data-current"),t.lay.append(e)})),this.items=Object.assign([],this.itemsStart),this.sliderInit()}},{key:"moveLay",value:function(t){this.lay.style.transform="translate3d(".concat(t/fontHtml,"rem,0,0)")}},{key:"moveFunc",value:function(t){var e,i,n,s,a,r=this;this.items.forEach((function(t){"true"==t.getAttribute("data-current")&&(n=t)}));var o=function(){var t;r.pagenation&&!Array.isArray(r.pagenation)&&(r.items.forEach((function(e){"true"==e.getAttribute("data-current")&&(t=+e.getAttribute("data-id")+1)})),r.pagenation.querySelectorAll(".JSsliderPagItem").forEach((function(t){t.classList.remove("_current")})),r.pagenation.querySelector(".JSsliderPagItem:nth-child(".concat(t,")")).classList.add("_current"))};switch(this.flag=!1,t){case"next":this.items.forEach((function(t){t==r.lay.lastElementChild&&(e=t),t==r.lay.firstElementChild&&(a=t)})),e&&(i=+e.getAttribute("data-id")+1)==this.length&&(i=0),n.removeAttribute("data-current"),this.move-=this.widthItem,setTimeout((function(){r.lay.style.transition=".5s ease-in-out",r.moveLay(r.move)}),10),setTimeout((function(){r.items.forEach((function(t){+t.getAttribute("data-id")==i&&(s=t.cloneNode(!0))})),n.nextElementSibling.setAttribute("data-current",!0),r.lay.append(s),r.items.push(s),r.left+=r.widthItem,r.lay.style.left="".concat(r.left/fontHtml,"rem"),a&&a.parentNode.removeChild(a),r.lay.style.transition="0s",r.flag=!0,o(),document.dispatchEvent(new CustomEvent("create-slider-item"))}),510);break;case"prev":this.items.forEach((function(t){t==r.lay.firstElementChild&&(e=t),t==r.lay.lastElementChild&&(a=t)})),e&&-1==(i=+e.getAttribute("data-id")-1)&&(i=this.length-1),n.removeAttribute("data-current"),n.previousElementSibling.setAttribute("data-current",!0),this.move+=this.widthItem,setTimeout((function(){r.lay.style.transition=".5s ease-in-out",r.moveLay(r.move)}),10),setTimeout((function(){r.items.forEach((function(t){+t.getAttribute("data-id")==i&&(s=t.cloneNode(!0))})),r.lay.prepend(s),r.items.unshift(s),r.left-=r.widthItem,r.lay.style.left="".concat(r.left/fontHtml,"rem"),r.lay.style.transition="0s",a&&a.parentNode.removeChild(a),r.flag=!0,o(),document.dispatchEvent(new CustomEvent("create-slider-item"))}),510)}}}]),t}();